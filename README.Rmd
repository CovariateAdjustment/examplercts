---
output: github_document
bibliography:
  - "../../github_pages/covariateadjustment.github.io/book.bib"
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE, message = FALSE, warning = FALSE}
library(dplyr)
library(kableExtra)
library(tidyr)

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

```{r URLs, echo = FALSE}
url_medicaldata <- "https://github.com/higgi13425/medicaldata"
url_survival <- "https://cran.r-project.org/web/packages/survival/index.html"
```

```{r Make-Data-Description-Table, echo = FALSE}
examplercts_data <-
  tidyr::tribble(
    ~Dataset, ~ Continuous, ~ Binary, ~ Ordinal, ~ `Time-to-Event`, ~ Longitudinal,
    "`strep_tb`", FALSE, TRUE, TRUE, FALSE, FALSE,
    "`indo_rct`", FALSE, TRUE, FALSE, FALSE, FALSE,
    "`botox_dystonia`", TRUE, FALSE, FALSE, FALSE, TRUE,
    "`laryngoscope`", TRUE, TRUE, TRUE, TRUE, FALSE,
    "`licorice_gargle`", TRUE, TRUE, TRUE, FALSE, TRUE,
    "`supraclavicular`", TRUE, TRUE, TRUE, TRUE, FALSE,
    "`perio_pregnancy`", TRUE, TRUE, TRUE, FALSE, TRUE,
    "`colon_cancer`", FALSE, FALSE, FALSE, TRUE, FALSE,
    "`lung_cancer`", FALSE, FALSE, FALSE, TRUE, FALSE
  ) %>% 
  dplyr::mutate(
    dplyr::across(
      .cols = 
        dplyr::all_of(
          x = c("Continuous", "Binary", "Ordinal", "Time-to-Event",
                "Longitudinal")
        ),
      .fns = function(x)
        factor(
          x = x,
          levels = c(FALSE, TRUE),
          labels = c("&#9744;", "&#9745;")
        ) %>% 
        as.character
    )
  )
```

# `examplercts`: Analysis-Ready Example Data from Randomized Controlled Trials

<!-- badges: start -->
[![R-CMD-check](https://github.com/CovariateAdjustment/example_rcts/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/CovariateAdjustment/example_rcts/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

The goal of `examplercts` is to facilitate teaching by providing annotated, labelled, and documented datasets from randomized controlled trials. These datasets have been sourced from existing R packages. This repo is meant to provide both analysis-ready data and the code used to produce that data.

Note: the license applies only to the R code and documentation used to curate the datasets.




## Installation

You can install the `examplercts` package from [GitHub](https://github.com/) with:

```{r Installation, eval = FALSE}
## Method 1: Using `pak`
# install.packages("pak")
pak::pak("CovariateAdjustment/example_rcts")

## Method 2: Using `devtools`
# install.packages("devtools")
devtools::install_github(repo ="CovariateAdjustment/example_rcts")
```

Once installed, load the package, and the datasets are available for use:

```{r Load-Package, eval = TRUE, echo = TRUE}
library(examplercts)
```


## Datasets:

Datasets are from various different aspects of medical research, and contain continuous, binary, ordinal, and time-to-event outcomes. Some outcomes are assessed at a single point in time, while others are assessed longitudinally. An overview of the outcome types in each dataset is provided in the table below.

```{r Print-Data-Description-Table, echo = FALSE}
knitr::kable(
  x = examplercts_data,
  caption = "**Table 1.** Types of outcomes in the `examplercts` package by dataset."
)
```

### `strep_tb`: Streptomycin for Tuberculosis

This is a randomized controlled trial of `r nrow(strep_tb)` individuals, evaluating the efficacy of streptomycin for pulmonary tuberculosis, conducted in 1947 [@strep-tb]. Participants were randomized to receive streptomycin and bed rest (treatment) or bed rest alone (control), and followed up after six months. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].

This dataset contains binary and ordinal outcome variables.




### `indo_rct`: Indomethicin vs. Placebo for Post-ERCP Pancreatitis (PEP)

This is a randomized controlled trial conducted from 2009 to 2011 of `r nrow(indo_rct)` individuals, evaluating the efficacy of indomethicin for prevention of Post-ERCP Pancreatitis [@indo-rct]. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].

This dataset contains a binary outcome variable.




### `botox_dystonia`: Botulinium Toxin B vs. Placebo for Cervical Dystonia

This is a randomized controlled trial conducted from 2009 to 2011 of `r nrow(botox_dystonia)` individuals, evaluating the efficacy of botulinium toxin B for cervical dystonia [@cdystonia]. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].



### `laryngoscope`: Macintosh vs. Pentax Laryngoscope for Orotracheal Intubation

This is a randomized controlled trial of `r nrow(laryngoscope)` individuals, evaluating the relative efficacy of two laryngoscope models for orotracheal intubation in obese patients [@laryngoscope]. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].


### `licorice_gargle`: Licorice Gargle vs. Sucrose for Endotracheal Intubation

This is a randomized controlled trial, conducted from 2010 to 2011, evaluating whether a licorice or sucrose gargle provided better management of endotracheal tube extubation symptoms in `r nrow(licorice_gargle)` participants [@licorice-gargle]. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].


### `supraclavicular`: Combined vs. Sequential Administration of Supraclavicular Anaesthesia

This is a randomized controlled trial evaluating whether sequential or combined anesthesia provided superior onset and duration of anaesthesia in `r nrow(supraclavicular)` participants [@supraclavicular]. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].


### `perio_pregnancy`: Maternal Periodontal Therapy vs. Oral Exams for Preterm Birth

This is a randomized controlled trial, conducted from 1984 to 2005, evaluating whether maternal periodontic treatment  `r nrow(perio_pregnancy)` participants [@perio-pregnancy]. This data was sourced from the [medicaldata package](`r url_medicaldata`) [@medicaldata].


### `colon_cancer`: 5-FU vs. Levamisole for Colon Cancer

This is a randomized controlled trial, enrolling between 1984 to 1987, comparing survival and cancer recurrence among `r nrow(colon_cancer)` participants randomized to 5-Fluorouracil + levamisole, levamisole alone, or observation [@colon-cancer]. This data was sourced from the [survival package](`r url_survival`) [@survival].


### `lung_cancer`: Veteran's Administration Lung Cancer Trial

This is a randomized controlled trial conducted by the Veteran's Administration Lung Cancer group, comparing survival among `r nrow(lung_cancer)` participants randomized to two treatment regimens. This data was sourced from the [survival package](`r url_survival`) [@survival], and is referenced in statistical publications and books [@Kalbfleisch2002; @Prentice1973], however there is no reference listed to the primary publication of this trial.




--------------------------------------------------------------------------------


## References
